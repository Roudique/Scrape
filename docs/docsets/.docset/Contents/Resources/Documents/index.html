<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (100% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/HTMLDocument.html">HTMLDocument</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/XMLDocument.html">XMLDocument</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/XMLNode.html">XMLNode</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/XMLNodeSet.html">XMLNodeSet</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/XPathResult.html">XPathResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/HTMLDocumentType.html">HTMLDocumentType</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/XMLDocumentType.html">XMLDocumentType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/Node.html">Node</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Searchable.html">Searchable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/XMLElement.html">XMLElement</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/CSSSelector.html">CSSSelector</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/HTMLParserOptions.html">HTMLParserOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/XMLParserOptions.html">XMLParserOptions</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <a href='#scrape' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='scrape'>Scrape</h1>

<p><a href="https://travis-ci.org/WeirdMath/Scrape"><img src="https://travis-ci.org/WeirdMath/Scrape.svg?branch=master" alt="Build Status"></a>
<img src="https://img.shields.io/badge/Swift-3.0-orange.svg" alt="Language">
<img src="https://img.shields.io/badge/platform-Linux%20%7C%20macOS%20%7C%20iOS%20%7C%20watchOS%20%7C%20tvOS-lightgrey.svg" alt="Platform">
<a href="https://codecov.io/gh/WeirdMath/Scrape"><img src="https://codecov.io/gh/WeirdMath/Scrape/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="https://codebeat.co/projects/github-com-weirdmath-scrape"><img src="https://codebeat.co/badges/d2568e1a-5443-492b-9976-c80f8a807150" alt="codebeat badge"></a></p>

<p>Scrape is a cross-platform HTML and XML parser written in Swift.</p>

<p>This project was forked from <a href="https://github.com/tid-kijyun/Kanna">Kanna</a>, then completely rewritten and refined.</p>
<a href='#about' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='about'>About</h2>

<p>This framework wraps well-known C library Libxml2, letting you use Swifty interface for HTML and XML parsing. You can use XPath queries or CSS selectors to search elements in XML and HTML documents.</p>

<p><strong>Important:</strong>
due to immaturity of open source Foundation framework implementation which is used in Linux version
of Scrape, CSS selectors are not currently supported in Linux. When all the methods of <code>NSRegularExpression</code> are fully implemented, CSS selectors will come back. In macOS they work just fine.</p>
<a href='#requirements' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='requirements'>Requirements</h2>

<ul>
<li>macOS 10.9 or newer</li>
<li>iOS 8.0 or newer</li>
<li>watchOS 2.0 or newer</li>
<li>tvOS 9.0 or newer</li>
<li>Ubuntu 14.04, 15.10 or 16.10</li>
<li>Other Linux distributions haven&rsquo;t been tested, but everything should work fine.</li>
</ul>
<a href='#installation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='installation'>Installation</h2>

<p>For now only Swift Package Manager is supported. If you want CocoaPods or Carthage support, please feel free
to submit a PR ðŸ˜Š</p>

<p>In order to use Scrape in your SPM project add the following into your <code>Package.swift</code> file:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"YourPackageName"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="kt">Package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/WeirdMath/Scrape.git"</span><span class="p">,</span> <span class="nv">majorVersion</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>   
</code></pre>
<a href='#usage' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='usage'>Usage</h2>

<p>Consider the following HTML fragment:</p>
<pre class="highlight html"><code>    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"single-column"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"boxed-group-inner mini-repo-list"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"public source "</span><span class="nt">&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://github.com/jessesquires/JSQCoreDataKit"</span> <span class="na">class=</span><span class="s">"mini-repo-list-item css-truncate"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"repo"</span> <span class="na">title=</span><span class="s">"JSQCoreDataKit"</span><span class="nt">&gt;</span>JSQCoreDataKit<span class="nt">&lt;/span&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"stars"</span><span class="nt">&gt;</span>
              357
              <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"oction oction-star"</span><span class="nt">&gt;&lt;/span&gt;</span>
            <span class="nt">&lt;/span&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"repo-description css-truncate-target"</span><span class="nt">&gt;</span>A swifter Core Data stack<span class="nt">&lt;/span&gt;</span>
          <span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
</code></pre>

<p>We can initialize an HTML document from string:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">document</span> <span class="o">=</span> <span class="kt">HTMLDocument</span><span class="p">(</span><span class="nv">html</span><span class="p">:</span> <span class="n">htmlString</span><span class="p">,</span> <span class="nv">encoding</span><span class="p">:</span> <span class="o">.</span><span class="n">utf8</span><span class="p">)</span>
</code></pre>

<p>We then can access its contents by querying it using XPath:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">element</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="nf">element</span><span class="p">(</span><span class="nv">atXPath</span><span class="p">:</span> <span class="s">"//span[@class='stars']"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1">// Prints "357".</span>

<span class="nf">print</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">html</span><span class="p">)</span>

<span class="c1">// Prints:</span>
<span class="c1">// &lt;span class="stars"&gt;</span>
<span class="c1">//               357</span>
<span class="c1">//               &lt;span class="oction oction-star"&gt;&lt;/span&gt;</span>
<span class="c1">//             &lt;/span&gt;</span>
</code></pre>

<p>â€¦or CSS selector:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">element</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="nf">element</span><span class="p">(</span><span class="nv">atCSSSelector</span><span class="p">:</span> <span class="s">"span.stars"</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1">// Prints "357".</span>

<span class="nf">print</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">html</span><span class="p">)</span>

<span class="c1">// Prints:</span>
<span class="c1">// &lt;span class="stars"&gt;</span>
<span class="c1">//               357</span>
<span class="c1">//               &lt;span class="oction oction-star"&gt;&lt;/span&gt;</span>
<span class="c1">//             &lt;/span&gt;</span>
</code></pre>

<p>We can even change the contents:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">element</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="nf">element</span><span class="p">(</span><span class="nv">atXPath</span><span class="p">:</span> <span class="s">"//span[@class='repo']"</span><span class="p">)</span>

<span class="n">element</span><span class="p">[</span><span class="s">"title"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Scrape"</span>
<span class="n">element</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="s">"Scrape"</span>

<span class="nf">print</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">html</span><span class="p">)</span>

<span class="c1">// Prints:</span>
<span class="c1">// &lt;span class="repo" title="Scrape"&gt;Scrape&lt;/span&gt;</span>
</code></pre>

<p>It is also possible to reorder nodes, provide parsing options and convert CSS selectors to XPath queries.</p>
<a href='#documentation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='documentation'>Documentation</h2>

<p>Available <a href="https://weirdmath.github.io/Scrape/">here</a>.</p>
<a href='#why-not-kanna' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='why-not-kanna'>Why not Kanna?</h2>

<p><a href="https://github.com/tid-kijyun/Kanna">Kanna</a> can be used on Apple platforms only, while Scrape can be used
in Linux environment. Scrape also provides more consistent and clearer API, and also a better test coverage.
And the most important â€” there is a complete documentation with examples!</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2016 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2016-09-24)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy â™ªâ™« v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
